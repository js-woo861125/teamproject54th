<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{admin/layout/default}">
	 <head>
    </head>

       <th:block layout:fragment="content">
        <div class="screen-overlay"></div>
                <div class="content-header">
                    <h2 class="content-title">입점업체 리스트</h2>
                </div>  			
                	<div class="card mb-4">
                    <header class="card-header">
                       <form th:action="@{/admin/enterprise/searchEnterprise}" method="get">
                           <div class="row gx-3">
			                   <div class="col-lg-2 col-md-3 col-12">
			                       <select class="form-select" name="searchKey">
			                           <option value="ceoCode" th:selected="${searchKey == 'ceoCode'}" >대표코드</option>
			                           <option value="entName" th:selected="${searchKey == 'entName'}">입점업체명</option>
			                           <option value="entContractStatus" th:selected="${searchKey == 'entContractStatus'}">계약상태</option>
			                           <option>Show all</option>
			                       </select>
			                   </div>
			                   <div class="col-lg-4 col-md-5">
			                       <input type="text" name="searchValue" th:value="${searchValue}" placeholder="검색어를 입력해주세요" class="form-control" />
			                   </div>
			                   <div class="col-lg-1 col-md-1 me-auto">
								   <button type="submit" class="form-control btn btn-primary">검색</button>                   
			                   </div>
                            <div class="col-lg-2 col-md-3 col-6">
                                <select class="form-select">
                                    <option>Show 20</option>
                                    <option>Show 30</option>
                                    <option>Show 40</option>
                                </select>
                            </div>
                        </div>
                       </form> 
                    </header>
                    <!-- card-header end// -->
                  	<div class="card-body">
			<div class="table-responsive">
				<div class="table-responsive">
					<table class="table align-middle table-nowrap mb-0">
						<thead class="table-light text-center">
							<tr>		
								<th class="align-middle" scope="col">대표코드</th>
								<th class="align-middle" scope="col">입점업체명</th>
								<th class="align-middle" scope="col">연락처</th>
								<th class="align-middle" scope="col">사업자번호</th>
								<th class="align-middle" scope="col">계약상태</th>
								<th class="align-middle" scope="col">계약만료일</th>
								<th class="align-middle" scope="col">상세정보</th>
							</tr>
						</thead>
                       	 <tbody class="text-center">	
							<th:block th:if="${!#lists.isEmpty(entList)}" th:each="l : ${entList}">
							 <tr>	
								<td><a class="fw-bold" th:text="${l.ceoCode}">entCeoNo</a></td>
								<td th:text="${l.entName}">(주)홍홍상사></td>
								<td th:text="${l.ceoTelNo}">010-0001-0001</td>
								<td th:text="${l.entBrno}">402-00-00000</td>
								<td >  <span class="badge rounded-pill"
							             th:classappend="${l.contractEndDate < T(java.time.LocalDate).now()} ? ' alert-danger' : ' alert-success'"
							             th:text="${l.contractEndDate < T(java.time.LocalDate).now()} ? '계약만료' : '계약중'">
							        	</span>
							    </td>
								<td th:text="${l.contractEndDate}">2026-02-22</td>
								<td> 
								 <a	th:href="@{/admin/enterprise/EntDetail(ceoCode=${l.ceoCode})}" class="btn btn-success btn-sm text-white">상세정보</a>
								</td>
							 </tr>	
							</th:block>	
						
							 <tr th:unless="${!#lists.isEmpty(entList)}">
							 	<td colspan="11">등록없음</td>
							 </tr>     
						 </tbody>                
                   </table>
                            <!-- table-responsive.// -->
                        </div>
                    </div>
                    <!-- card-body end// -->
                </div>
               </div>
                <!-- card end// -->
	               <div class="pagination-area mt-15 mb-50">
				<nav aria-label="Page navigation example">
					<ul class="pagination justify-content-start">
						<li class="page-item active"><a class="page-link" href="#">01</a></li>
						<li class="page-item"><a class="page-link" href="#">02</a></li>
						<li class="page-item"><a class="page-link" href="#">03</a></li>
						<li class="page-item"><a class="page-link dot" href="#">...</a></li>
						<li class="page-item"><a class="page-link" href="#">16</a></li>
						<li class="page-item"><a class="page-link" href="#"><i
								class="material-icons md-chevron_right"></i></a></li>
					</ul>
				</nav>
			</div>
			</th:block>
		
    
        <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
        <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
        <script src="assets/js/vendors/select2.min.js"></script>
        <script src="assets/js/vendors/perfect-scrollbar.js"></script>
        <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
        <!-- Main Script -->
        <script src="assets/js/main.js?v=1.1" type="text/javascript"></script>
</html>
