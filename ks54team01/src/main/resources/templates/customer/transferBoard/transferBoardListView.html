<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{customer/layout/default}">


	<!-- head ì‚½ì…ê³µê°„ -->
	
	<head>
	
	</head>
	
	<th:block layout:fragment="jsFile">
	
	</th:block>
	
	
	<th:block layout:fragment="jsScript">
		<script>
			$('.sort-by a').click(function(e){
				e.preventDefault();
				const sortValue = $(this).data('sortValue');
				const href = location.href;
				const url = new URL(href); // í˜„ì¬ urlë¥¼ ê°€ì ¸ì˜¤ê³  url ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
				const urlParams = url.searchParams; // í˜„ì¬ urlê°ì²´ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
				urlParams.set('sortValue', sortValue);

				
				location.href = `${url.pathname}?${urlParams.toString()}`;
			});
			
			
			$('a.page-num').click(function(e){
				e.preventDefault();
				const currentPage = $(this).data('currentPage');
				const href = location.href; // í˜„ì¬ url ê°€ì ¸ì˜¨ë‹¤.
				const url = new URL(href); // í˜„ì¬ urlë¥¼ ê°€ì ¸ì˜¤ê³  url ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
				const urlParams = url.searchParams; // í˜„ì¬ urlê°ì²´ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
				urlParams.set('currentPage', currentPage);
				location.href = `${url.pathname}?${urlParams.toString()}`;
			});
		</script>
	</th:block>
	
	<!-- í˜ì´ì§€ ì‚½ì…ê³µê°„ -->
	<th:block layout:fragment="customContents">
		<div class="container mb-30">
			<div class="row">
				<div class="col-12">
					<div class="section-title">
						<h1 class="heading-2 mb-40">ì–‘ë„ í•˜ê¸°!</h1>
						<div class="col-md-2 col-2 ms-auto mt-50">
							<!-- ì–‘ë„ ê¸€ ì“°ê¸° ë²„íŠ¼ í´ë¦­í•˜ë©´ ê³„ì•½ ì¤‘ì¸ ë Œíƒˆ ìƒí’ˆì´ ìˆëŠ” ì§€ ì²´í¬í•˜ê³  ìˆìœ¼ë©´ ë“±ë¡ í˜ì´ì§€ë¡œ ì´ë™ -->
							<form action="#" method="get">
								<button type="submit"
									class="btn btn-success w-50 rounded font-lg hover-up text-white justify-content-center fs-6 mb-50">ê¸€ì“°ê¸°</button>			
							</form>
						</div>
					</div>
					<div class="w-50 widget_search mb-50">
						<div class="search-form">
							<form th:action="@{/customer/transferBoard/transferBoardList}" method="get">
								<input type="text" name="searchValue" th:value="${searchValue}"
									placeholder="ê²Œì‹œê¸€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”." />
								<button class="transfer-search" type="submit">
									<i class="fi-rs-search"></i>
								</button>
							</form>
						</div>
					</div>
					<div class="shop-product-fillter">
						<div class="totall-product">
							<h5 class="text-body">
								ì–‘ë„ ìƒí’ˆ<span th:text="${'&emsp;' + contentRowCount}"
								class="text-brand">5</span> 
								<span>ê±´</span>
							</h5>
						</div>
						<div class="sort-by-product-area">
							<div class="sort-by-cover mr-10">
								<div class="sort-by">
									<!--/* <a th:href="@{/customer/transferBoard/sortTransferBoardList(sortValue=recentReg)}"> */-->
									<a th:href="@{#}" th:data-sort-value="recentReg">
										<span>ìµœì‹ ë“±ë¡ìˆœ</span>
									</a>
								</div>
							</div>
							<div class="sort-by-cover mr-10">
								<div class="sort-by">
									<a th:href="@{#}" th:data-sort-value="highPrice">
										<span>ë†’ì€ê°€ê²©ìˆœ</span>
									</a>
								</div>
							</div>
							<div class="sort-by-cover mr-10">
								<div class="sort-by">
									<a th:href="@{#}" th:data-sort-value="rowPrice">
										<span>ë‚®ì€ê°€ê²©ìˆœ</span>
									</a>
								</div>
							</div>
							<div class="sort-by-cover mr-10">
								<div class="sort-by">
									<a th:href="@{#}" th:data-sort-value="deadline">
										<span>ë§ˆê°ì„ë°•ìˆœ</span>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="row product-grid">
						<th:block th:if="${!#lists.isEmpty(transferBoardList)}"
							th:each="l : ${transferBoardList}">
							<div class="col-lg-3 col-md-4 col-12 col-sm-6">
								<div class="product-cart-wrap mb-30">
									<div class="product-img-action-wrap">
										<div class="product-img product-img-zoom">
											<a th:href="@{/customer/transferBoard/transferBoardDetail(transferBoardNum=${l.transferBoardNum})}">
												<img class="default-img"
												th:src="@{'/user/assets/imgs/shop/' + ${l.productInfo.productsImage}}"
												alt="" />
											</a>
										</div>
									</div>
									<div class="product-content-wrap">
										<div class="product-category d-flex justify-content-between">
											<a th:text="${l.productInfoCategory.smCategory}" href="shop-grid-right.html">TV</a>
											<div class="dropdown">
		                                        <a href="#" data-bs-toggle="dropdown" class="btn btn-light rounded btn-sm font-sm"> <i class="material-icons md-more_horiz"></i> </a>
		                                        <div class="dropdown-menu">
		                                            <button class="dropdown-item" type="submit">ê²Œì‹œê¸€ ì‚­ì œ</button>
		                                        </div>
	                                    	</div>
										</div>
										<h2 th:text="${l.transferTitle}">
											<a href="shop-product-right.html">ê³„ì•½ 2ë…„ ë‚¨ì€ TV ì–‘ë„ ì›í•©ë‹ˆë‹¤.</a>
										</h2>
										<div>
											<span th:text="${l.customerMember.custName}" class="font-small text-muted">ì‘ì„±ì
												<a href="vendor-details-1.html">ìš°ì—í•˜ë¼ ì•„ìœ ë¬´</a>
											</span>
										</div>
										<div class="product-card-bottom">
											<div class="product-price">
												<span>ğŸ’¸ì›”ë Œíƒˆë£Œ</span> 
												<span th:text="|â‚©${#numbers.formatInteger(l.rentalFee, 3, 'COMMA')}">85,000ì›</span>
											</div>
										</div>
										<div class="product-card-bottom">
											<div class="product-price">
												<span>ğŸ’°ì§€ì›ê¸ˆ</span> 
												<span th:text="|â‚©${l.individualGrants >= 1000 ? #numbers.formatInteger(l.individualGrants, 3, 'COMMA') : l.individualGrants}">1,000ì›</span>
											</div>
										</div>
										<div class="product-card-bottom">
											<p>ë“±ë¡ì¼</p>
											<p th:text="${l.registerDate}">2025-04-09</p>
											<div></div>
											<th:block th:switch="${l.transferRentalProcsssingStatus}">
												<span th:case="${'2.ì–‘ë„ê³„ì•½ì§„í–‰'}" class="stock-status in-stock">
													ì§„í–‰ì¤‘ </span>
												<span th:case="${'3.ì–‘ë„ê³„ì•½ì™„ë£Œ'}" class="stock-status out-stock">
													ë§ˆê° </span>
											</th:block>
										</div>
									</div>
								</div>
							</div>
						</th:block>
					</div>
					<div class="pagination-area mt-30 mb-50">
						<nav aria-label="Page navigation example">
							<ul class="pagination justify-content-center">
								<!-- ì´ì „í˜ì´ì§€ ì´ë™ -->
								<li id="prev-page" class="page-item"  th:classappend="${startPageNum < 10} ? 'disabled'">
									<a class="page-link" th:classappend="${startPageNum < 10} ? 'bg-white'"
										th:href="@{/customer/transferBoard/transferBoardList(currentPage=${startPageNum - 1})}">
										<i class="material-icons md-first_page"></i>
									</a>
								</li>

								<!-- í˜ì´ì§€ ì´ë™  -->
								<th:block th:each="num : ${#numbers.sequence(startPageNum, endPageNum)}">
									<li class="page-item"
										th:classappend="${num eq currentPage} ? 'active disabled'">
										<a class="page-link page-num"
										   href="#"
										   th:text="${num < 10 ? '0' + num : num}"
										   th:data-current-Page="${num}">01</a>
									</li>
								</th:block>
								
								<!-- ë‹¤ìŒí˜ì´ì§€ ì´ë™ -->
								<li id="next-page" class="page-item" th:classappend="${(startPageNum + 10) > lastPage} ? 'disabled'">
									<a class="page-link" th:classappend="${(startPageNum + 10) > lastPage} ? 'bg-white'"
									   th:href="@{/customer/transferBoard/transferBoardList(currentPage=${endPageNum + 1})}">
									   <i class="material-icons md-last_page"></i>
									</a>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</th:block> 
</html>