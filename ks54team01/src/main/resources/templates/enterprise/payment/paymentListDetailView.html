<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<title th:text="${title}">관리자페이지</title>
		<meta http-equiv="x-ua-compatible" content="ie=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- Favicon -->
		<link rel="shortcut icon" type="image/x-icon" th:href="@{/manage/assets/imgs/theme/favicon.svg}" />
		<!-- Template CSS -->
		<link th:href="@{/manage/assets/css/main.css}" rel="stylesheet" type="text/css" />
	</head>
	
	<body>
		
		<main>
			<!-- header start -->
			<!--/* <header th:replace="~{admin/fragments/header :: headerFragment}"></header> */-->
			<!-- header end -->
			<section class="content-main">
				<div class="card mb-4">
					<header class="card-header">
						<form th:action="@{/enterprise/payment/paymentListDetail}" method="get">
							<input type="hidden" name="rentalContractNo" th:value="${rentalContractNo}" />
							<div class="row gx-3">
								<div class="col-lg-2 col-md-3 col-12">
									<select class="form-select" name="unpaidStatusCode" id="unpaidStatus" onchange="this.form.submit()" aria-label="납입여부 선택">
										 <option value="" th:selected="${selectedCode == null}">전체</option>
								        <option value="1" th:selected="${selectedCode == '1'}">납입예정</option>
								        <option value="2" th:selected="${selectedCode == '2'}">완납</option>
								        <option value="3" th:selected="${selectedCode == '3'}">미납</option>
								        <option value="4" th:selected="${selectedCode == '4'}">납입불필요</option>
									</select>
								</div>
							</div>
						</form>
					</header>
					<!-- card-header end// -->
					<div class="card-body">
						<div class="table-responsive">
							<div class="table-responsive">
								<table class="table align-middle table-nowrap mb-0">
									<thead class="table-light text-center">
										<tr>
	
											<th class="align-middle" scope="col">납입회차</th>
											<th class="align-middle" scope="col">주문자명</th>
											<th class="align-middle" scope="col">월납입금액</th>
											<th class="align-middle" scope="col">위약금</th>
											<th class="align-middle" scope="col">납입예정일</th>
											<th class="align-middle" scope="col">납입상태</th>
											<th class="align-middle" scope="col">납입여부</th>
										</tr>
									</thead>
									<tbody class="text-center">
										<tr th:if="${!#lists.isEmpty(PaymentDetailList)}"
											th:each="l : ${PaymentDetailList}">
	
											<td th:text="${l.paidInRounds} + '회차'">납입회차</td>
											<td th:text="${l.custNm}">주문자명</td>
											<td th:text="|₩${#numbers.formatInteger(l.payAmount, 3, 'COMMA')}|">월납입금액</td>
											<td th:text="|₩${#numbers.formatInteger(l.penaltyFee, 3, 'COMMA')}|">위약금</td>
											<td th:text="${l.monthlyPayDate}">납입예정일</td>
											<td th:text="${l.payStatus}">납입상태</td>
											<td th:text="${l.unpaidStatus}" th:style="${l.unpaidStatus == '3.미납'} ? 'color:red;font-weight:bold;' : ''">납입여부</td>
										</tr>
										<tr th:unless="${!#lists.isEmpty(PaymentDetailList)}">
											<td colspan="12">없음</td>
										</tr>
	
									</tbody>
								</table>
							</div>
						</div>
						<!-- table-responsive //end -->
					</div>
					<!-- card-body end// -->
				</div>
				<!-- card end// -->
			</section>
			<!-- content-main end// -->
			<footer class="main-footer font-xs" th:fragment="footerFragment">
				<div class="row pb-30 pt-15">
					<div class="col-sm-6">
						<script>
							document.write(new Date().getFullYear());
						</script>
						&copy; Nest - HTML Ecommerce Template .
					</div>
					<div class="col-sm-6">
						<div class="text-sm-end">All rights reserved</div>
					</div>
				</div>
			</footer>
		</main>
		<script th:src="@{/manage/assets/js/vendors/jquery-3.6.0.min.js}"></script>
		<script th:src="@{/manage/assets/js/vendors/bootstrap.bundle.min.js}"></script>
		<script th:src="@{/manage/assets/js/vendors/select2.min.js}"></script>
		<script th:src="@{/manage/assets/js/vendors/perfect-scrollbar.js}"></script>
		<script th:src="@{/manage/assets/js/vendors/jquery.fullscreen.min.js}"></script>
		<!-- Main Script -->
		<script th:src="@{/manage/assets/js/main.js}" type="text/javascript"></script>
		<!--/* js 파일 삽입 공간 */-->
		<th:block layout:fragment="jsFile"></th:block>
		<!--/* 스크립트 작성 공간 */-->
		<th:block layout:fragment="jsScript"></th:block>
	</body>
</html>